/**
 * marked v0.14.0 - a markdown parser
 * Copyright (c) 2011-2025, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/markedjs/marked
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).marked={})}(this,(function(e){"use strict";var t="__lib_version__";!function(e,t){var n;var r="".concat("").concat(t);if("undefined"!=typeof globalThis){globalThis.__perseus_debug__=null!==(n=globalThis.__perseus_debug__)&&void 0!==n?n:{};var o=globalThis.__perseus_debug__[e];if(o){if(o!==r){var a=Array.isArray(o)?o:[o];a.push(r),globalThis.__perseus_debug__[e]=a,console.warn("Multiple versions of ".concat(e," loaded on this page: ").concat(a.sort().join(", ")))}}else globalThis.__perseus_debug__[e]=r}else console.warn("globalThis not found found (".concat(r,")"))}("@khanacademy/simple-markdown",t);var n,r,o,a,l,u,i,c,f=/\r\n?/g,s=/\t/g,p=/\f/g,d=function(e){return e.replace(f,"\n").replace(p,"").replace(s,"    ")},h=function(e,t){var n=e||{};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},m=function(e,t){var n,r=Object.keys(e).filter((function(t){var n=e[t];if(null==n||null==n.match)return!1;var r=n.order;return"number"==typeof r&&isFinite(r)||"undefined"==typeof console||console.warn("simple-markdown: Invalid order for rule `"+t+"`: "+String(r)),!0}));r.sort((function(t,n){var r=e[t],o=e[n],a=r.order,l=o.order;if(a!==l)return a-l;var u=r.quality?0:1,i=o.quality?0:1;return u!==i?u-i:t<n?-1:t>n?1:0}));var o=function(t,a){var l=[];for(n=a=a||n;t;){var u=null,i=null,c=null,f=NaN,s=0,p=r[0],d=e[p];do{var h=d.order,m=null==a.prevCapture?"":a.prevCapture[0],y=d.match(t,a,m);if(y){var g=d.quality?d.quality(y,a,m):0;g<=f||(u=p,i=d,c=y,f=g)}s++,p=r[s],d=e[p]}while(d&&(!c||d.order===h&&d.quality));if(null==i||null==c)throw new Error("Could not find a matching rule for the below content. The rule with highest `order` should always match content provided to it. Check the definition of `match` for '"+r[r.length-1]+"'. It seems to not match the following source:\n"+t);if(c.index)throw new Error("`match` must return a capture starting at index 0 (the current parse index). Did you forget a ^ at the start of the RegExp?");var v=i.parse(c,o,a);if(Array.isArray(v))Array.prototype.push.apply(l,v);else{if(null==v||"object"!=typeof v)throw new Error("parse() function returned invalid parse result: '".concat(v,"'"));null==v.type&&(v.type=u),l.push(v)}a.prevCapture=c,t=t.substring(a.prevCapture[0].length)}return l};return function(e,r){return(n=h(r,t)).inline||n.disableAutoBlockNewlines||(e+="\n\n"),n.prevCapture=null,o(d(e),n)}},y=function(e){var t=function(t,n,r){return n.inline?e.exec(t):null};return t.regex=e,t},g=function(e){var t=function(t,n){return n.inline?null:e.exec(t)};return t.regex=e,t},v=function(e){var t=function(t,n){return e.exec(t)};return t.regex=e,t},_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,b=function(e,t,n){return{$$typeof:_,type:e,key:null==t?void 0:t,ref:null,props:n,_owner:null}},k=function(e,t,n,r){n=n||{},r=void 0===r||r;var o="";for(var a in n){var l=n[a];Object.prototype.hasOwnProperty.call(n,a)&&l&&(o+=" "+T(a)+'="'+T(l)+'"')}var u="<"+e+o+">";return r?u+t+"</"+e+">":u},w={},x=function(e){if(null==e)return null;try{var t=new URL(e,"https://localhost").protocol;if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return null}catch(e){return null}return e},E=/[<>&"']/g,S={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#96;"},T=function(e){return String(e).replace(E,(function(e){return S[e]}))},A=/\\([^0-9A-Za-z\s])/g,R=function(e){return e.replace(A,"$1")},O=function(e,t,n){var r=n.inline||!1;n.inline=!0;var o=e(t,n);return n.inline=r,o},$=function(e,t,n){return{content:O(t,e[1],n)}},j=function(){return{}},P="(?:[*+-]|\\d+\\.)",C="( *)("+P+") +",q=new RegExp("^"+C),F=new RegExp(C+"[^\\n]*(?:\\n(?!\\1"+P+" )[^\\n]*)*(\n|$)","gm"),B=/\n{2,}$/,N=/^ (?= *`)|(` *) $/g,L=B,I=/ *\n+$/,z=new RegExp("^( *)("+P+") [\\s\\S]+?(?:\n{2,}(?! )(?!\\1"+P+" )\\n*|\\s*\n*$)"),G=/(?:^|\n)( *)$/,X=(n=/^ *\| *| *\| *$/g,r=/ *$/,o=/^ *-+: *$/,a=/^ *:-+: *$/,l=/^ *:-+ *$/,u=function(e){return o.test(e)?"right":a.test(e)?"center":l.test(e)?"left":null},i=function(e,t,n,o){var a=n.inTable;n.inTable=!0;var l=t(e.trim(),n);n.inTable=a;var u=[[]];return l.forEach((function(e,t){"tableSeparator"===e.type?(!o||0!==t&&t!==l.length-1)&&u.push([]):("text"!==e.type||null!=l[t+1]&&"tableSeparator"!==l[t+1].type||(e.content=e.content.replace(r,"")),u[u.length-1].push(e))})),u},{parseTable:(c=function(e){return function(t,r,o){o.inline=!0;var a=i(t[1],r,o,e),l=function(e,t,r,o){return o&&(e=e.replace(n,"")),e.trim().split("|").map(u)}(t[2],0,0,e),c=function(e,t,n,r){return e.trim().split("\n").map((function(e){return i(e,t,n,r)}))}(t[3],r,o,e);return o.inline=!1,{type:"table",header:a,align:l,cells:c}}})(!0),parseNpTable:c(!1),TABLE_REGEX:/^ *(\|.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/,NPTABLE_REGEX:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/}),M="(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*",U="\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*",Z=/mailto:/i,H=function(e,t,n){var r=(e[2]||e[1]).replace(/\s+/g," ").toLowerCase();if(t._defs&&t._defs[r]){var o=t._defs[r];n.target=o.target,n.title=o.title}return t._refs=t._refs||{},t._refs[r]=t._refs[r]||[],t._refs[r].push(n),n},D=0,Q={Array:{react:function(e,t,n){for(var r=n.key,o=[],a=0,l=0;a<e.length;a++,l++){n.key=""+a;var u=e[a];if("text"===u.type)for(u={type:"text",content:u.content};a+1<e.length&&"text"===e[a+1].type;a++)u.content+=e[a+1].content;o.push(t(u,n))}return n.key=r,o},html:function(e,t,n){for(var r="",o=0;o<e.length;o++){var a=e[o];if("text"===a.type)for(a={type:"text",content:a.content};o+1<e.length&&"text"===e[o+1].type;o++)a.content+=e[o+1].content;r+=t(a,n)}return r}},heading:{order:D++,match:g(/^ *(#{1,6})([^\n]+?)#* *(?:\n *)+\n/),parse:function(e,t,n){return{level:e[1].length,content:O(t,e[2].trim(),n)}},react:function(e,t,n){return b("h"+e.level,n.key,{children:t(e.content,n)})},html:function(e,t,n){return k("h"+e.level,t(e.content,n))}},nptable:{order:D++,match:g(X.NPTABLE_REGEX),parse:X.parseNpTable,react:null,html:null},lheading:{order:D++,match:g(/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/),parse:function(e,t,n){return{type:"heading",level:"="===e[2]?1:2,content:O(t,e[1],n)}},react:null,html:null},hr:{order:D++,match:g(/^( *[-*_]){3,} *(?:\n *)+\n/),parse:j,react:function(e,t,n){return b("hr",n.key,{"aria-hidden":!0})},html:function(e,t,n){return'<hr aria-hidden="true">'}},codeBlock:{order:D++,match:g(/^(?:    [^\n]+\n*)+(?:\n *)+\n/),parse:function(e,t,n){return{lang:void 0,content:e[0].replace(/^    /gm,"").replace(/\n+$/,"")}},react:function(e,t,n){var r=e.lang?"markdown-code-"+e.lang:void 0;return b("pre",n.key,{children:b("code",null,{className:r,children:e.content})})},html:function(e,t,n){var r=e.lang?"markdown-code-"+e.lang:void 0,o=k("code",T(e.content),{class:r});return k("pre",o)}},fence:{order:D++,match:g(/^ *(`{3,}|~{3,}) *(?:(\S+) *)?\n([\s\S]+?)\n?\1 *(?:\n *)+\n/),parse:function(e,t,n){return{type:"codeBlock",lang:e[2]||void 0,content:e[3]}},react:null,html:null},blockQuote:{order:D++,match:g(/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/),parse:function(e,t,n){return{content:t(e[0].replace(/^ *> ?/gm,""),n)}},react:function(e,t,n){return b("blockquote",n.key,{children:t(e.content,n)})},html:function(e,t,n){return k("blockquote",t(e.content,n))}},list:{order:D++,match:function(e,t){var n=null==t.prevCapture?"":t.prevCapture[0],r=G.exec(n),o=t._list||!t.inline;return r&&o?(e=r[1]+e,z.exec(e)):null},parse:function(e,t,n){var r=e[2],o=r.length>1,a=o?+r:void 0,l=e[0].replace(L,"\n").match(F),u=!1;return{ordered:o,start:a,items:l.map((function(e,r){var o=q.exec(e),a=o?o[0].length:0,i=new RegExp("^ {1,"+a+"}","gm"),c=e.replace(i,"").replace(q,""),f=r===l.length-1,s=-1!==c.indexOf("\n\n")||f&&u;u=s;var p,d=n.inline,h=n._list;n._list=!0,s?(n.inline=!1,p=c.replace(I,"\n\n")):(n.inline=!0,p=c.replace(I,""));var m=t(p,n);return n.inline=d,n._list=h,m}))}},react:function(e,t,n){var r=e.ordered?"ol":"ul";return b(r,n.key,{start:e.start,children:e.items.map((function(e,r){return b("li",""+r,{children:t(e,n)})}))})},html:function(e,t,n){var r=e.items.map((function(e){return k("li",t(e,n))})).join(""),o=e.ordered?"ol":"ul",a={start:e.start};return k(o,r,a)}},def:{order:D++,match:g(/^ *\[([^\]]+)\]: *<?([^\s>]*)>?(?: +["(]([^\n]+)[")])? *\n(?: *\n)*/),parse:function(e,t,n){var r=e[1].replace(/\s+/g," ").toLowerCase(),o=e[2],a=e[3];return n._refs&&n._refs[r]&&n._refs[r].forEach((function(e){e.target=o,e.title=a})),n._defs=n._defs||{},n._defs[r]={target:o,title:a},{def:r,target:o,title:a}},react:function(){return null},html:function(){return""}},table:{order:D++,match:g(X.TABLE_REGEX),parse:X.parseTable,react:function(e,t,n){var r=function(t){return null==e.align[t]?{}:{textAlign:e.align[t]}},o=e.header.map((function(e,o){return b("th",""+o,{style:r(o),scope:"col",children:t(e,n)})})),a=e.cells.map((function(e,o){return b("tr",""+o,{children:e.map((function(e,o){return b("td",""+o,{style:r(o),children:t(e,n)})}))})}));return b("table",n.key,{children:[b("thead","thead",{children:b("tr",null,{children:o})}),b("tbody","tbody",{children:a})]})},html:function(e,t,n){var r=function(t){return null==e.align[t]?"":"text-align:"+e.align[t]+";"},o=e.header.map((function(e,o){return k("th",t(e,n),{style:r(o),scope:"col"})})).join(""),a=e.cells.map((function(e){var o=e.map((function(e,o){return k("td",t(e,n),{style:r(o)})})).join("");return k("tr",o)})).join(""),l=k("thead",k("tr",o)),u=k("tbody",a);return k("table",l+u)}},newline:{order:D++,match:g(/^(?:\n *)*\n/),parse:j,react:function(e,t,n){return"\n"},html:function(e,t,n){return"\n"}},paragraph:{order:D++,match:g(/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/),parse:$,react:function(e,t,n){return b("div",n.key,{className:"paragraph",children:t(e.content,n)})},html:function(e,t,n){return k("div",t(e.content,n),{class:"paragraph"})}},escape:{order:D++,match:y(/^\\([^0-9A-Za-z\s])/),parse:function(e,t,n){return{type:"text",content:e[1]}},react:null,html:null},tableSeparator:{order:D++,match:function(e,t){return t.inTable?/^ *\| */.exec(e):null},parse:function(){return{type:"tableSeparator"}},react:function(){return" | "},html:function(){return" &vert; "}},autolink:{order:D++,match:y(/^<([^: >]+:\/[^ >]+)>/),parse:function(e,t,n){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1]}},react:null,html:null},mailto:{order:D++,match:y(/^<([^ >]+@[^ >]+)>/),parse:function(e,t,n){var r=e[1],o=e[1];return Z.test(o)||(o="mailto:"+o),{type:"link",content:[{type:"text",content:r}],target:o}},react:null,html:null},url:{order:D++,match:y(/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/),parse:function(e,t,n){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1],title:void 0}},react:null,html:null},link:{order:D++,match:y(new RegExp("^\\[("+M+")\\]\\("+U+"\\)")),parse:function(e,t,n){return{content:t(e[1],n),target:R(e[2]),title:e[3]}},react:function(e,t,n){return b("a",n.key,{href:x(e.target),title:e.title,children:t(e.content,n)})},html:function(e,t,n){var r={href:x(e.target),title:e.title};return k("a",t(e.content,n),r)}},image:{order:D++,match:y(new RegExp("^!\\[("+M+")\\]\\("+U+"\\)")),parse:function(e,t,n){return{alt:e[1],target:R(e[2]),title:e[3]}},react:function(e,t,n){return b("img",n.key,{src:x(e.target),alt:e.alt,title:e.title})},html:function(e,t,n){var r={src:x(e.target),alt:e.alt,title:e.title};return k("img","",r,!1)}},reflink:{order:D++,match:y(new RegExp("^\\[("+M+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,n){return H(e,n,{type:"link",content:t(e[1],n)})},react:null,html:null},refimage:{order:D++,match:y(new RegExp("^!\\[("+M+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,n){return H(e,n,{type:"image",alt:e[1]})},react:null,html:null},em:{order:D,match:y(new RegExp("^\\b_((?:__|\\\\[\\s\\S]|[^\\\\_])+?)_\\b|^\\*(?=\\S)((?:\\*\\*|\\\\[\\s\\S]|\\s+(?:\\\\[\\s\\S]|[^\\s\\*\\\\]|\\*\\*)|[^\\s\\*\\\\])+?)\\*(?!\\*)")),quality:function(e){return e[0].length+.2},parse:function(e,t,n){return{content:t(e[2]||e[1],n)}},react:function(e,t,n){return b("em",n.key,{children:t(e.content,n)})},html:function(e,t,n){return k("em",t(e.content,n))}},strong:{order:D,match:y(/^\*\*((?:\\[\s\S]|[^\\])+?)\*\*(?!\*)/),quality:function(e){return e[0].length+.1},parse:$,react:function(e,t,n){return b("strong",n.key,{children:t(e.content,n)})},html:function(e,t,n){return k("strong",t(e.content,n))}},u:{order:D++,match:y(/^__((?:\\[\s\S]|[^\\])+?)__(?!_)/),quality:function(e){return e[0].length},parse:$,react:function(e,t,n){return b("u",n.key,{children:t(e.content,n)})},html:function(e,t,n){return k("u",t(e.content,n))}},del:{order:D++,match:y(/^~~(?=\S)((?:\\[\s\S]|~(?!~)|[^\s~\\]|\s(?!~~))+?)~~/),parse:$,react:function(e,t,n){return b("del",n.key,{children:t(e.content,n)})},html:function(e,t,n){return k("del",t(e.content,n))}},inlineCode:{order:D++,match:y(/^(`+)([\s\S]*?[^`])\1(?!`)/),parse:function(e,t,n){return{content:e[2].replace(N,"$1")}},react:function(e,t,n){return b("code",n.key,{children:e.content})},html:function(e,t,n){return k("code",T(e.content))}},br:{order:D++,match:v(/^ {2,}\n/),parse:j,react:function(e,t,n){return b("br",n.key,w)},html:function(e,t,n){return"<br>"}},text:{order:D++,match:v(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n\n| {2,}\n|\w+:\S|$)/),parse:function(e,t,n){return{content:e[0]}},react:function(e,t,n){return e.content},html:function(e,t,n){return T(e.content)}}},V=function(e,t,n){if(void 0===n&&(n={}),!t)throw new Error("simple-markdown: outputFor: `property` must be defined. if you just upgraded, you probably need to replace `outputFor` with `reactFor`");var r,o=(e.Array||Q.Array)[t];if(!o)throw new Error("simple-markdown: outputFor: to join nodes of type `"+t+"` you must provide an `Array:` joiner rule with that type, Please see the docs for details on specifying an Array rule.");var a=o,l=function(n,o){return r=o=o||r,Array.isArray(n)?a(n,l,o):e[n.type][t](n,l,o)};return function(e,t){return r=h(t,n),l(e,r)}},J=m(Q),K=function(e,t){return(t=t||{}).inline=!1,J(e,t)},W=function(e,t){var n=B.test(e);return(t=t||{}).inline=!n,J(e,t)},Y=V(Q,"react"),ee=V(Q,"html"),te=function(e,t){return Y(K(e,t),t)},ne={defaultRules:Q,parserFor:m,outputFor:V,inlineRegex:y,blockRegex:g,anyScopeRegex:v,parseInline:O,parseBlock:function(e,t,n){var r=n.inline||!1;n.inline=!1;var o=e(t+"\n\n",n);return n.inline=r,o},markdownToReact:te,markdownToHtml:function(e,t){return ee(K(e,t),t)},ReactMarkdown:function(e){var t={};for(var n in e)"source"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.children=te(e.source),b("div",null,t)},defaultBlockParse:K,defaultInlineParse:function(e,t){return(t=t||{}).inline=!0,J(e,t)},defaultImplicitParse:W,defaultReactOutput:Y,defaultHtmlOutput:ee,preprocess:d,sanitizeText:T,sanitizeUrl:x,unescapeUrl:R,htmlTag:k,reactElement:b,defaultRawParse:J,ruleOutput:function(e,t){t||"undefined"==typeof console||console.warn("simple-markdown ruleOutput should take 'react' or 'html' as the second argument.");return function(n,r,o){return e[n.type][t](n,r,o)}},reactFor:function(e){var t=function(n,r){if(r=r||{},Array.isArray(n)){for(var o=r.key,a=[],l=null,u=0;u<n.length;u++){r.key=""+u;var i=t(n[u],r);"string"==typeof i&&"string"==typeof l?(l+=i,a[a.length-1]=l):(a.push(i),l=i)}return r.key=o,a}return e(n,t,r)};return t},htmlFor:function(e){var t=function(n,r){return r=r||{},Array.isArray(n)?n.map((function(e){return t(e,r)})).join(""):e(n,t,r)};return t},defaultParse:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"undefined"!=typeof console&&console.warn("defaultParse is deprecated, please use `defaultImplicitParse`"),W.apply(null,e)},defaultOutput:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"undefined"!=typeof console&&console.warn("defaultOutput is deprecated, please use `defaultReactOutput`"),Y.apply(null,e)}};e.default=ne,e.libVersion=t,Object.defineProperty(e,"__esModule",{value:!0})}));
